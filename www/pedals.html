<!DOCTYPE html>

<html>
<head>
  <meta name="generator" content="HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta charset="utf-8">

  <title>Alcyone Control</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="script/jquery.mobile-1.2.0.min.css"
  type="text/css">
  <link rel="stylesheet" href="css/alcyone.css" type="text/css">
  <script src="script/jquery.min.js" type="text/javascript">
</script>
<script src="script/jquery-ui.js" type="text/javascript">
</script>
  <script src="script/jquery.l90r.piano.js">
</script>
<script>
   var url="http://"
   	+window.location.hostname
   	+":8090/pedal?message=";

function sendMessage(message) {
	$.get(url+message,function(data) {});
}

$(function() {
$('#piano').piano()
	.bind('pianodown', function display(event, halftone, pressed) { 
		var val=16+1*pressed;
		sendMessage(val);
	} )
	.bind('pianoup', function(event, halftone, pressed) {
		var val=32+1*pressed;
		sendMessage(val);
		//$('#note').text(pressed.join(', '))
	});
$('#sustain').click(function() {$('#piano').piano('sustain',$(this).is(':checked'));});});
</script>
</head>

<body>
<p>Current note is: <span id="note"></span></p>
<div id="piano"></div>
<div style="display:none"><p>Sustain pedal: <input id="sustain" type="checkbox"
/></p></div>
</body>
</html>
